<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="theme-color" content="#1b2c47" />

  <!--<script src='http://code.jquery.com/jquery-1.7.2.min.js'></script>
  <script src='http://localhost:3005/socket.io/socket.io.js'></script>-->

  <title>BracelHertZ - Perfil</title>
  <link rel="icon" type="image/png" href="img/bracelhertzv3.png" />

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.css" rel="stylesheet">
  <link href="vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
  <link rel="manifest" href="./manifest.json">
  <link rel="apple-touch-icon" href="/img/icons/icon-152x152.png">

  <script defer src="./face/face-api.min.js"></script>
  <script defer src="./face/registarFace.js"></script>
  <style>
    select {
      -webkit-appearance: none;
    }

    #divVideo {
      position: absolute;
      top: 55px;
      bottom: 0;
      left: 0;
      right: 0;
      margin-right: auto;
      margin-left: auto;
      height: 60%;
      width: 70%;
      background-color: #f8f9fc;
      text-align: center;
    }

    video{
      max-width: 720px;
    }

    canvas {
      position: absolute;
      top: 55px;
      bottom: 0;
      left: 0;
      right: 0;
      margin-right: auto;
      margin-left: auto;
    }
  </style>

</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a id="dashBoard" class="sidebar-brand d-flex align-items-center justify-content-center" href="#">
        <div class="sidebar-brand-icon ">
          <img class="fas fa-laugh-wink logo1" src="img/pul.png">
        </div>
        <div class="sidebar-brand-text mx-3"><img class="logo2" src="img/letras2.png"></div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->


      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Interfaces
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link" href="listaocorrencias.html">
          <img src="img/ocorenciaG.png" class="imgSide">
          <span>Ocorrências</span></a>
      </li>

      <!-- Nav Item - Utilities Collapse Menu -->
      <!-- Nav Item - Charts -->
      <li class="nav-item">
        <a class="nav-link" href="avisos.html">
          <img src="img/bellG.png" class="imgSide">
          <span>Anotações</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Ver
      </div>

      <!-- Nav Item - Pages Collapse Menu -->


      <!-- Nav Item - Charts -->
      <li class="nav-item">
        <a class="nav-link" href="listareclusos.html">
          <img src="img/algemasG.png" class="imgSide">
          <span>Reclusos</span></a>
      </li>

      <!-- Nav Item - Tables -->
      <li class="nav-item" id="showInst" style="display: none;">
        <a class="nav-link" href="listafuncionarios.html">
          <img src="img/policeG.png" class="imgSide">
          <span>Funcionários</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="listainstituicoes.html">
          <img src="img/prisonG.png" class="imgSide">
          <span>Instituições</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block">

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column" style="zoom: 75%;">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <span id="nomeUser" class="mr-2 d-none d-lg-inline text-gray-600 small"></span>
                <img id="avatarUser" class="img-profile rounded-circle">
              </a>
              <!-- Dropdown - User Information -->
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="perfil.html">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  Perfil
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Terminar Sessão
                </a>
              </div>
            </li>
            <li class="my-auto">
              <input type="checkbox" id="opendoor" name="opendoor">
              <div id="opendoor2" class="label">
                <label style="cursor:pointer;" for="opendoor">
                  <img id="openPuls" class="img-profile rounded-circle picNotes" src="img/bracelhertzv3.png"
                    style="filter: none; display: none; border: solid gray 0.1rem;">
                </label>
              </div>
            </li>

          </ul>

        </nav>
        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        <div class="row">
          <div id="ajustarDm" class="col-12" style="max-width: 100%; transition: none;">
            <div class="container-fluid" id="containerfluid1">

              <div class="w-100">
                <div class="row" style="justify-content: center;">
                  <div class="colFfP">







                    <div class="card shadow h-100">
                      <div class="card-header py-3 bg-secondary full_tab" style="height: 55px" id="cardheader420">

                        <div class="tab_nome50 text-white">Fotografia</div>
                        <div class="tab_time" style="float: right; height: 20px;">
                          <button onclick="startVideo()"
                            style="border: none; background-color: transparent; display: inline;"><img
                              style="height: 30px; width: 30px;" src="./img/reconhecimentoB.png"></button>
                          <p style="display: inline;"><input type="file" accept="image/*" name="image" id="file"
                              onchange="loadFile(event)" style="display: none;"></p>
                          <p style="display: inline;"><label for="file" id="foto420" class="mb-0 text-uppercase"
                              style="cursor: pointer;"><img class="sizeEditImg" src="img/editIMG1.png"></label></p>
                        </div>

                      </div>
                      <!--Card Body -->
                      <div class="card-body p-0 text-center" id="firstone">

                        <img data-enlargable width="100" style="cursor: zoom-in; max-width: 100%; max-height: 523px;"
                          id="fotoR" class="imagemPerfil">

                      </div>
                    </div>







                  </div>
                  <div class="col-auto">



                    <div>

                      <div class="calendar disable-selection" id="calendar">
                        <div class="left-side">
                          <div class="current-day text-center">
                            <h1 class="calendar-left-side-day"></h1>
                            <div class="calendar-left-side-day-of-week"></div>
                          </div>
                          <div class="current-day-events" style="padding-top: 20px;">
                            <div class="full_tab">
                              <div id="tab_nomeCH" class="tab_nome">Eventos:</div>
                              <div class="tab_time" style="float: right;">
                                <i id="trashSche" type="button" class="fas fa-trash mr-2" style="display: none;"></i>
                                <i id="editSche" type="button" class="fas fa-pen" style="display: inline;"></i>
                              </div>
                            </div>
                            <ul id="listaSche" class="current-day-events-list scrollLista">
                            </ul>
                          </div>
                          <div class="add-event-day full_tab">
                            <input type="text" class="add-event-day-field tab_name" placeholder="Adicionar evento">
                            <span class="fa fa-plus-circle cursor-pointer add-event-day-field-btn tab_time"></span>
                          </div>
                        </div>
                        <div class="right-side" style="margin: 0;">
                          <div class="text-right calendar-change-year">
                            <div class="calendar-change-year-slider" style="padding-right: 22px;">
                              <span class="fa fa-caret-left cursor-pointer calendar-change-year-slider-prev"></span>
                              <span class="calendar-current-year"></span>
                              <span class="fa fa-caret-right cursor-pointer calendar-change-year-slider-next"></span>
                            </div>
                          </div>
                          <div class="calendar-month-list">
                            <ul class="calendar-month" style="padding-left: 0;"></ul>
                          </div>
                          <div class="calendar-week-list">
                            <ul class="px-auto calendar-week paddL41"></ul>
                          </div>
                          <div class="paddRightCalender calendar-day-list">
                            <ul class="calendar-days" style="padding-left: 0;"></ul>
                          </div>
                        </div>
                      </div>



                    </div>
                  </div>





                </div>
              </div>

              <br><br>






              <div class="w-100">

                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 bg-secondary">
                    <div class="m-0 font-weight-bold text-white full_tab">
                      <div class="tab_nome">Os meus dados</div>
                      <div class="d-flex" type="button tab_time" style="float:right;">
                        <button class="bg-transparent" id="altPass" style="border: none;" data-toggle="modal"
                          data-target="#PassModal">
                          <img class="btn_altPass" src="img/altPass.png">
                        </button>
                        <button class="bg-transparent" id="perfil_save_2" style="border: none; display:none"><i
                            class="fas fa-file-export font-weight-bold text-white"></i></button>
                        <button id="perfil_alterar_2" style="background-color:transparent; border: none;"><i
                            class="fas fa-user-edit font-weight-bold text-white"></i></button>
                      </div>
                    </div>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">

                    <div class="row">
                      <div class="coli1">


                        <div class="form-group">
                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:95px"><strong>Username</strong></h5>
                            <div style="display: unset;">
                              <p class="h6 ml-2 text-primary font-weight-600" id="username_perfil"><em></em></p><i
                                id="icon_username_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; margin-top:-25px; display: none"></i>
                            </div>
                          </div>




                          <div class="form-control mt-4" style="height: 50px">
                            <h5 class="card-title form-control420"><strong>Nome</strong></h5>
                            <div style="display: unset;">
                              <input type="text" class="space1 h6 ml-2 text-primary font-weight-600" id="nome_perfil"
                                value="" style="width: 80%; border: none; background-color: transparent;"
                                readonly="true">
                              <i id="icon_nome_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>
                          </div>

                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:95px;"><strong>Contacto</strong></h5>
                            <div style="display: unset;">
                              <input type="text" class="h6 ml-2 text-primary font-weight-600" id="contacto_perfil"
                                value="" readonly="true"
                                style="width: 80%; border: none; background-color: transparent;"
                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                data-rule="required|minlength-9" maxlength="9">
                              <i id="icon_contacto_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>
                          </div>

                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420"><strong>Email</strong></h5>
                            <div style="display: unset;">
                              <input type="email" class="h6 ml-2 text-primary font-weight-600" id="email_perfil"
                                value="" style="width: 80%; border: none; background-color: transparent;"
                                readonly="true">
                              <i id="icon_email_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>
                          </div>

                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:75px;"><strong>Função</strong></h5>
                            <div style="display: unset;">
                              <p class="h6 ml-2 text-primary font-weight-600" id="role_perfil"><em></em></p><i
                                id="role_login" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; margin-top:-25px; display: none"></i>
                            </div>
                          </div>



                        </div>


                      </div>
                      <div class="coli1">


                        <div class="form-group">


                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:190px;"><strong>Data de
                                Nascimento</strong></h5>
                            <div style="display: unset;">
                              <input type="date" id="dataNascimento_perfil" class="h6 ml-2 text-primary font-weight-600"
                                style="width: 98%; border: none; background-color: transparent;" disabled="true">
                            </div>
                          </div>


                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:135px;"><strong>Nacionalidade</strong>
                            </h5>
                            <div style="display: unset;">
                              <input type="text" class="nspace1 h6 ml-2 text-primary font-weight-600"
                                id="nacionalidade_perfil"
                                style="width: 80%; border: none; background-color: transparent;" readonly="true">
                              <i id="icon_nacionalidade_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>
                          </div>





                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:105px;"><strong>Localidade</strong></h5>
                            <div style="display: unset;">
                              <input type="text" class="nspace1 h6 ml-2 text-primary font-weight-600"
                                id="localidade_perfil" style="width: 80%; border: none; background-color: transparent;"
                                readonly="true">
                              <i id="icon_localidade_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>
                          </div>


                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:85px;"><strong>Morada</strong></h5>
                            <div style="display: unset;">
                              <input type="text" class="regMorada h6 ml-2 text-primary font-weight-600"
                                id="morada_perfil" style="width: 80%; border: none; background-color: transparent;"
                                readonly="true">
                              <i id="icon_morada_perfil" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>
                          </div>

                          <br>

                          <div class="form-control" style="height: 50px">
                            <h5 class="card-title form-control420" style="width:110px;"><strong>Instituição</strong>
                            </h5>
                            <div style="display: unset;">
                              <select id="id_instituicao" class=" h6 ml-2 text-primary font-weight-600"
                                style="border: none; width: 80%;" disabled="true">

                              </select>
                              <i id="icon_id_instituicao" class="fas fa-pen text-primary bg-transparent pr-3"
                                style="float:right; display: none"></i>
                            </div>

                          </div>

                          <!-- fecha form-group -->
                        </div>

                      </div>
                    </div>


                  </div>
                </div>



              </div>


            </div>
          </div>

          <div class="col-2 mt-n4 px-0 sidenav" id="rec12" style="transition: 0.5s;">
            <div class="col px-1">
              <input type="text" id="myFilter" placeholder="Pesquisar recluso" class="form-control py-2 mr-3 myFilter">
            </div>
            <div id="tPulsacoes">

            </div>
          </div>

        </div>
        <audio loop id="myAudio">
          <source src="./sounds/alert  sound.mp3" type="audio/ogg">
          <source src="./sounds/alert  sound.mp3" type="audio/mpeg">
        </audio>

        <div id="seeAlert">
        </div>
      </div>
      <!-- End of Main Content -->

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>BracelHertZ</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Registar reconhecimento facial -->
  <div id="divVideo" style="display: none;">

    <video style="z-index: 3; width: 720px; height: 540px;" id="video"  autoplay muted></video>
    <div class="w-100">
      <button class="btn btn-secondary mx-auto" type="button" id="btnVideo" onclick="endVideo()">Cancelar</button>
      <button class="btn btn-primary mx-auto" id="btnTakePhoto" data-toggle="modal" data-target="#FaceModal">Take Photo</button>
    </div>

    <canvas id="canvas" width="134px" height="100px"
      style="display:none;"></canvas>

  </div>





  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Terminar Sessão</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">Tens a certeza que pertendes sair?</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
          <button class="btn btn-primary" id="botaoLogout">Terminar Sessão</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Registo facial-->
  <div style="display: none;" class="modal fade" id="FaceModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Registo Facial</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">

          <input type="file" accept="image/*" onchange="TesteFile(event)" id="novaCara">

          <img style="width: 100%; height: auto;" src="" id="FtRecFac">
          <div class="text-center">Insira a password para confirmar o registo</div>

          <div class="txtb" id="paraPass">
            <input type="password" id="Pass" name="nPassword" class="form-control form-control-user"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,24}" required>
            <span data-placeholder="Password"></span>
            <div class="eye slash" onclick="togglePW()"
              style="float: right;margin-top: -6%;margin-right: 4%;color:#1b2c47;">
              <div></div>
              <div></div>
            </div>
          </div>

        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
          <button class="btn btn-primary" id="RegistarReconhecimento">Registar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Editar password-->
  <div class="modal fade" id="PassModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Editar Password</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="txtb">
            <input type="password" id="aPassword" name="password" class="form-control form-control-user">
            <span data-placeholder="Antiga Password"></span>
          </div>


          <div class="txtb" id="paraPass">
            <input type="password" id="nPassword" name="nPassword" class="form-control form-control-user"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,24}" required>
            <span data-placeholder="Nova Password"></span>
            <div class="eye slash" onclick="togglePW()"
              style="float: right;margin-top: -6%;margin-right: 4%;color:#1b2c47;">
              <div></div>
              <div></div>
            </div>
          </div>


          <div id="message" style="display: none;">
            <h6 class="mb-2 font-weight-bold">Password deve conter:</h6>
            <div class="row">
              <div class="col-6">
                <p id="letter420" class="invalid420">Uma <b>letra minúscula</b></p>

              </div>
              <div class="col-6">
                <p id="capital420" class="invalid420">Uma <b>letra maiúscula</b></p>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <p id="length420" class="invalid420">Mínimo <b>6 caracteres</b></p>

              </div>
              <div class="col-6">
                <p id="lengt420" class="invalid420">Máximo <b>24 caracteres</b></p>
              </div>
            </div>
            <p id="number420" class="invalid420">Um <b>número</b></p>


          </div>


        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
          <button class="btn btn-primary" id="editPass">Confirmar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.js"></script>
  <script async src="controller/all.js"></script>

  <!-- Page level plugins -->
  <script src="vendor/chart.js/Chart.min.js"></script>
  <script src="vendor/datatables/jquery.dataTables.js"></script>
  <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.26.9/sweetalert2.all.min.js"></script>

  <!-- Page level custom scripts -->

  <script src="controller/perfil.js"></script>
  <script src="controller/controlo.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  <script>
    function togglePW() {

      //toggle password visibility
      document.querySelector('.eye').classList.toggle('slash');

      //show/hide the password
      var password = document.querySelector('[name=nPassword]');
      if (password.getAttribute('type') === 'password') {
        password.setAttribute('type', 'text');
      } else {
        password.setAttribute('type', 'password');
      }
    }
  </script>

  <script type="text/javascript">
    $(".txtb input").on("focus", function () {
      $(this).addClass("focus");
    });

    $(".txtb input").on("blur", function () {
      if ($(this).val() == "")
        $(this).removeClass("focus");
    });

  </script>


  <script>

    $('img[data-enlargable]').addClass('img-enlargable').click(function () {
      var src = $(this).attr('src');
      var modal;
      function removeModal() { modal.remove(); $('body').off('keyup.modal-close'); }
      modal = $('<div>').css({
        background: 'RGBA(0,0,0,.5) url(' + src + ') no-repeat center',
        backgroundSize: 'contain',
        width: '100%', height: '100%',
        position: 'fixed',
        zIndex: '10000',
        top: '0', left: '0',
        cursor: 'zoom-out'
      }).click(function () {
        removeModal();
      }).appendTo('body');
      //handling ESC
      $('body').on('keyup.modal-close', function (e) {
        if (e.key === 'Escape') { removeModal(); }
      });
    });

  </script>

  <script>
    if ('serviceWorker' in navigator) {
      try {
        navigator.serviceWorker.register('sw.js');
        console.log('SW registered');
      } catch (error) {
        console.log('SW register failed');
      }
    }
  </script>

</body>

</html>